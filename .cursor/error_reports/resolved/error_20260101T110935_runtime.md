# Error Report: Runtime Error

**Error ID:** `01JQ20260101110935`  
**Timestamp:** 2026-01-01T11:09:35Z  
**Category:** runtime  
**Severity:** medium  
**Status:** pending

## Error Message

ingest_structured completes successfully but creates 0 observations with 50 unknown fields, indicating entity schema mismatch

## Source Repository

- **Name:** personal
- **Path:** /Users/markmhendrickson/Projects/personal

## Target Repository

- **Name:** neotoma
- **Path:** /Users/markmhendrickson/Projects/neotoma

## Affected Files

- `dist/services/interpretation.js`
- `dist/services/schema_registry.js`

## Affected Modules

- mcp_neotoma
- ingest_structured
- entity_schema

## Error Details

The `ingest_structured` MCP call completes successfully without throwing errors, but the response indicates a schema mismatch:

- **Observations Created:** 0
- **Unknown Fields Count:** 50
- **Entities:** [] (empty)

This suggests that the entity structure provided does not match the expected schema in Neotoma's schema registry.

### Entity Data Provided

The entities included the following fields:
- `type`: "person"
- `name`: Contact name
- `email`: Email address
- `phone`: Phone number
- `address`: Physical address
- `country`: Country code
- `contact_type`: "personal" or "group"
- `category`: Category string
- `platform`: Platform identifier (e.g., "minted")
- `notes`: Notes text
- `contact_id`: Contact identifier
- `external_id`: External identifier (optional)

None of these fields were recognized by the schema registry.

## Response Data

```json
{
  "source_id": "89038abc-5732-4326-89a6-a9bcfd64a56d",
  "interpretation": {
    "interpretationRunId": "97e155ba-66ce-4b3a-8c5c-a8c951e81d77",
    "observationsCreated": 0,
    "unknownFieldsCount": 50,
    "entities": []
  }
}
```

## Context

Agent was attempting to transfer 5 contacts from Parquet MCP to Neotoma MCP using the `ingest_structured` function. The operation completed without errors, but no observations were created, indicating the entity schema does not match what Neotoma expects.

## Environment

- Node: v20.x.x
- OS: darwin
- Environment: development

## Resolution

Awaiting resolution by Cursor Cloud Agent.

### Recommended Actions

1. **Schema Documentation:**
   - Document the expected entity schema for `ingest_structured`
   - Provide examples of valid entity structures
   - Clarify field naming conventions and required fields

2. **Schema Validation:**
   - Add pre-validation to check entity structure before processing
   - Return clear error messages when schema doesn't match
   - Provide guidance on correct field names and structure

3. **Schema Registry:**
   - Verify schema registry is properly configured
   - Check if entity type "person" is registered
   - Ensure field mappings are correct

4. **Entity Type Mapping:**
   - Clarify if "person" is a valid entity type
   - Document supported entity types for ingest_structured
   - Provide entity type examples
