# Neotoma Environment Variables
# Copy this file to .env and fill in your actual values
# Never commit .env files to git

# =============================================================================
# Supabase Configuration (Required)
# =============================================================================
# Get these from: Supabase Dashboard → Settings → API
# Project ID: Settings → General → Project ID (or extract from Project URL)
# Service Role Key: Settings → API → service_role key (NOT anon key)

# Environment-based variables (preferred - set by 1Password sync based on ENVIRONMENT)
# The 1Password sync script will set these based on ENVIRONMENT=development or ENVIRONMENT=production
SUPABASE_PROJECT_ID=your-project-id
SUPABASE_SERVICE_KEY=your-service-role-key-here

# Alternative: Full URL (backward compatibility)
# SUPABASE_URL=https://your-project-id.supabase.co
# SUPABASE_SERVICE_KEY=your-service-role-key-here

# Supabase Access Token (for Management API - migrations, CLI operations)
# Get via: npx supabase login
# Or: Supabase Dashboard → Account → Access Tokens → Generate New Token
# SUPABASE_ACCESS_TOKEN=your-access-token-here

# =============================================================================
# Server Configuration
# =============================================================================
# MCP Server port (stdio mode)
PORT=3000

# HTTP Actions Server port
HTTP_PORT=8080

# WebSocket MCP Bridge port
WS_PORT=8081

# Bearer token for HTTP Actions API authentication
# Environment-based (set by 1Password sync based on ENVIRONMENT)
# Development: Uses auth token (development) from Neotoma 1Password entry
# Production: Uses auth token (production) from Neotoma 1Password entry
ACTIONS_BEARER_TOKEN=your-actions-bearer-token-here

# =============================================================================
# OpenAI Configuration (Optional)
# =============================================================================
# Required for embeddings and AI features

# Environment-based variable (set by 1Password sync based on ENVIRONMENT)
OPENAI_API_KEY=sk-your-api-key-here

# =============================================================================
# Frontend Configuration (Optional)
# =============================================================================
# Vite environment variables (prefixed with VITE_)

# WebSocket port for frontend MCP connection
VITE_WS_PORT=8081

# Local MCP WebSocket URL (overrides default)
# VITE_LOCAL_MCP_URL=ws://127.0.0.1:8081/mcp

# MCP URL (alternative to local)
# VITE_MCP_URL=ws://your-mcp-server.com/mcp

# API Base URL (defaults to http://127.0.0.1:{HTTP_PORT})
# VITE_API_BASE_URL=http://localhost:8080

# Auto-seed records on startup (default: true, set to "false" to disable)
# VITE_AUTO_SEED_RECORDS=true

# =============================================================================
# Node Environment
# =============================================================================
# Set to "development", "test", or "production"
# NEOTOMA_ENV=development  # Preferred: Neotoma-specific env var (avoids conflicts when running as MCP)
# NODE_ENV=development     # Fallback: Standard Node.js convention (used if NEOTOMA_ENV not set)

# =============================================================================
# MCP WebSocket Bridge Configuration (Optional)
# =============================================================================
# Command to run MCP server (default: "node")
# MCP_CMD=node

# MCP server arguments (JSON array, default: ["dist/index.js"])
# MCP_ARGS=["dist/index.js"]

# =============================================================================
# Cursor Cloud API Configuration (Optional)
# =============================================================================
# Required for multi-agent orchestration features
# These are synced from 1Password (Cursor entry)

# Cursor Cloud API Key (synced from 1Password)
CURSOR_CLOUD_API_KEY=your-cursor-cloud-api-key-here

# Cursor Cloud API URL (can be hardcoded, defaults to https://api.cursor.com)
# Most scripts default to https://api.cursor.com if not set
# CURSOR_CLOUD_API_URL=https://api.cursor.com

# =============================================================================
# Testing Configuration (Optional)
# =============================================================================
# Disable auto-start of actions server in tests
# NEOTOMA_ACTIONS_DISABLE_AUTOSTART=0

# Branch ports file for test isolation
# BRANCH_PORTS_FILE=.branch-ports

