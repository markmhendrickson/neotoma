# Neotoma Internationalization (i18n)
*(Locale vs Content Language, Formatting, and Cross-Language Search)*

---

## Purpose

Defines i18n rules for Neotoma, distinguishing between **UI locale** (interface language) and **content language** (document language).

---

## Core Principles

1. **Content language preservation:** Never auto-translate user documents
2. **UI locale:** Localize interface only (buttons, labels, messages)
3. **Content language detection:** Detect document language for search
4. **Cross-language search:** Support searching across multiple languages

---

## Locale vs Content Language

```typescript
interface Record {
  id: string;
  type: string;
  properties: {
    content_language: 'en' | 'es' | 'fr' | ...; // Detected document language
  };
  // UI displayed in user's interface_locale (e.g., 'en-US')
}
```

**Example:**
- User with `interface_locale: 'en-US'` uploads Spanish document
- UI shows: "Document uploaded" (English)
- Content stored: Original Spanish text (never translated)
- Search: Works in Spanish (preserves original)

---

## Date/Number Formatting

**Use locale for display only:**

```typescript
// Format date for UI
const formatted = new Intl.DateTimeFormat(userLocale).format(date);

// Store in DB: ISO 8601
const stored = date.toISOString(); // "2024-01-15T00:00:00Z"
```

---

## Cross-Language Search

**Pattern:** Use language-agnostic search (exact match, no stemming).

**Future:** Language-specific stemming per detected content language.

---

## Agent Instructions

Load when handling locales, formatting, or multi-language content.

Required co-loaded: `docs/subsystems/search/search.md`

Constraints:
- MUST preserve original content language
- MUST NOT auto-translate documents
- MUST detect content language for search
- MUST format dates/numbers per UI locale





