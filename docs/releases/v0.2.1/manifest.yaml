release:
  id: "v0.2.1"
  name: "Documentation Generation System"
  type: "not_marketed" # marketed | not_marketed
  status: "planning" # planning | in_progress | in_testing | ready_for_deployment | deployed | completed
  target_date: "when ready"
  priority: "P0"
  marketing_required: false
  scope_change: "Support features (FU-302, FU-303) moved to v0.9.0"

# Execution strategy
execution_strategy:
  type: "sequential" # "multi_agent" or "sequential"
  max_parallel_fus: 1 # Maximum FUs executing simultaneously
  max_high_risk_in_parallel: 1 # Maximum high-risk FUs executing simultaneously
  agent_spawning:
    enabled: true
    status_tracking: "file" # "file" or "api"
    status_file: "docs/releases/v0.2.1/status.md"

feature_units:
  # Documentation Generation System
  - id: "FU-300"
    priority: "P0"
    dependencies: []
    risk_level: "medium"
    notes: "AI-powered repository analysis and comprehensive documentation generation"

  # Static Documentation Web Server
  - id: "FU-301"
    priority: "P0"
    dependencies: ["FU-300"]
    risk_level: "low"
    notes: "One-page landing website with README info, directory access, MCP setup instructions, and static file serving with search"

# Moved to v0.9.0
deferred_feature_units:
  - id: "FU-302"
    name: "MCP Support Inquiry Endpoint"
    moved_to: "v0.9.0"
    reason: "Better positioned before v1.0.0 when user base exists"
    
  - id: "FU-303"
    name: "Support Agent System"
    moved_to: "v0.9.0"
    reason: "Better positioned before v1.0.0 when user base exists"

execution_schedule:
  batches:
    # Batch 0: Documentation Generation
    - batch_id: 0
      feature_units: ["FU-300"]
      dependencies: []

    # Batch 1: Documentation Web Server
    - batch_id: 1
      feature_units: ["FU-301"]
      dependencies: ["FU-300"]

checkpoints:
  checkpoint_1_after_batch: 1 # Review documentation generation before release

acceptance_criteria:
  product:
    - criterion: "Comprehensive documentation available via web interface"
      test: "tests/integration/documentation_web.test.ts"
      metric: null
    - criterion: "Support agent responds accurately to common inquiries (80%+ accuracy)"
      test: "tests/integration/support_agent.test.ts"
      metric: "support_agent_accuracy >= 0.80"
    - criterion: "Documentation search functional"
      test: "tests/integration/documentation_search.test.ts"
      metric: null
    - criterion: "MCP support endpoint operational"
      test: "tests/integration/mcp_support_endpoint.test.ts"
      metric: null
  technical:
    - criterion: "All P0 FUs deployed and passing tests"
      test: null
      metric: "SELECT COUNT(*) FROM feature_units WHERE priority='P0' AND status='completed'"
    - criterion: "Documentation generation deterministic"
      test: "tests/integration/documentation_generation.test.ts"
      metric: null
    - criterion: "Static documentation served efficiently (< 200ms page load)"
      test: "tests/integration/documentation_performance.test.ts"
      metric: "page_load_p95 < 200"
    - criterion: "Documentation search responsive (< 500ms query response)"
      test: "tests/integration/documentation_search.test.ts"
      metric: "search_query_p95 < 500"
    - criterion: "Support agent responses cite source documentation"
      test: "tests/integration/support_agent.test.ts"
      metric: "citation_rate >= 1.0"
    - criterion: "MCP endpoint follows MCP protocol specification"
      test: "tests/integration/mcp_support_endpoint.test.ts"
      metric: null
    - criterion: "Documentation generation integrated into build process"
      test: null
      metric: "Documentation generation runs automatically on build"
  business:
    - criterion: "Users can self-serve answers via documentation web interface"
      test: null
      metric: "Manual validation via web interface"
    - criterion: "Users can query support via MCP without leaving AI tool"
      test: null
      metric: "Manual validation via MCP client"

pre_mortem:
  failure_modes:
    - mode: "Documentation generation failures"
      early_warning: "Documentation generation script fails, incomplete docs generated"
      mitigation: "FU-300 includes validation checks, comprehensive test coverage"
      rollback: "Revert documentation generation changes, use manual docs"
    - mode: "Support agent accuracy below threshold"
      early_warning: "Support agent test suite shows accuracy < 80%"
      mitigation: "FU-303 includes accuracy validation, iterative improvement process"
      rollback: "Disable support agent, fall back to static documentation only"
    - mode: "MCP endpoint protocol violations"
      early_warning: "MCP integration tests fail, protocol compliance issues"
      mitigation: "FU-302 includes comprehensive MCP protocol tests"
      rollback: "Revert MCP endpoint changes, check protocol compliance"
    - mode: "Design system compliance failures"
      early_warning: "UI components don't match design system, accessibility tests fail"
      mitigation: "FU-301 includes design system compliance checks, reference docs/ui/design_system.md"
      rollback: "Revert UI changes, ensure design system compliance before re-implementation"

deployment:
  target: "production" # All releases deploy to production at neotoma.io
  target_url: "neotoma.io"
  marketing: false # Not marketed release - no marketing activities
  rollback_plan: "Revert code changes and redeploy to neotoma.io; restore previous documentation version if needed"

monitoring:
  key_metrics:
    - "documentation_generation_success_rate"
    - "documentation_page_load_p95"
    - "documentation_search_latency_p95"
    - "support_agent_query_success_rate"
    - "support_agent_response_accuracy"
    - "support_agent_citation_rate"
    - "mcp_support_endpoint_success_rate"
    - "mcp_support_endpoint_latency_p95"
